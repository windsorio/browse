# Snapshot report for `test/rule.test.js`

The actual snapshot is saved in `rule.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## page "https://en.wikipedia.org/wiki/(slug:.+)" {
    string 'title' `#firstHeading`
    string 'summary' `#mw-content-text > div > p:nth-child(4)`
    arr 'headings' `.mw-headline` {
      string 'text' `.span`
      url 'mainArticle' `a` 'href'
    }
    crawl `a`
  }

> Snapshot 1

    [
      ':page',
      [
        'https://en.wikipedia.org/wiki/(slug:.+)',
        [
          'seq',
          [
            ':string',
            [
              'title',
              '#firstHeading',
            ],
          ],
          [
            ':string',
            [
              'summary',
              '#mw-content-text > div > p:nth-child(4)',
            ],
          ],
          [
            ':arr',
            [
              'headings',
              '.mw-headline',
              [
                'seq',
                [
                  ':string',
                  [
                    'text',
                    '.span',
                  ],
                ],
                [
                  ':url',
                  [
                    'mainArticle',
                    'a',
                    'href',
                  ],
                ],
              ],
            ],
          ],
          [
            ':crawl',
            [
              'a',
            ],
          ],
        ],
      ],
    ]

> Snapshot 2

    {
      args: [
        {
          quoteType: '"',
          source: {
            endIdx: 46,
            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                string 'title' `#firstHeading`␊
                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                arr 'headings' `.mw-headline` {␊
                  string 'text' `.span`␊
                  url 'mainArticle' `a` 'href'␊
                }␊
                crawl `a`␊
              }`,
            startIdx: 5,
          },
          type: 'Literal',
          value: 'https://en.wikipedia.org/wiki/(slug:.+)',
        },
        {
          rules: [
            {
              args: [
                {
                  quoteType: '\'',
                  source: {
                    endIdx: 67,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 60,
                  },
                  type: 'Literal',
                  value: 'title',
                },
                {
                  quoteType: '`',
                  source: {
                    endIdx: 83,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 68,
                  },
                  type: 'Literal',
                  value: '#firstHeading',
                },
              ],
              fn: {
                module: undefined,
                name: {
                  name: 'string',
                  source: {
                    _contents: 'string',
                    endIdx: 59,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 53,
                  },
                  type: 'Word',
                },
                options: [],
                source: {
                  endIdx: 59,
                  sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                      string 'title' `#firstHeading`␊
                      string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                      arr 'headings' `.mw-headline` {␊
                        string 'text' `.span`␊
                        url 'mainArticle' `a` 'href'␊
                      }␊
                      crawl `a`␊
                    }`,
                  startIdx: 53,
                },
                type: 'InitRule',
              },
              source: {
                endIdx: 83,
                sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                    string 'title' `#firstHeading`␊
                    string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                    arr 'headings' `.mw-headline` {␊
                      string 'text' `.span`␊
                      url 'mainArticle' `a` 'href'␊
                    }␊
                    crawl `a`␊
                  }`,
                startIdx: 53,
              },
              type: 'Rule',
            },
            {
              args: [
                {
                  quoteType: '\'',
                  source: {
                    endIdx: 104,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 95,
                  },
                  type: 'Literal',
                  value: 'summary',
                },
                {
                  quoteType: '`',
                  source: {
                    endIdx: 146,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 105,
                  },
                  type: 'Literal',
                  value: '#mw-content-text > div > p:nth-child(4)',
                },
              ],
              fn: {
                module: undefined,
                name: {
                  name: 'string',
                  source: {
                    _contents: 'string',
                    endIdx: 94,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 88,
                  },
                  type: 'Word',
                },
                options: [],
                source: {
                  endIdx: 94,
                  sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                      string 'title' `#firstHeading`␊
                      string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                      arr 'headings' `.mw-headline` {␊
                        string 'text' `.span`␊
                        url 'mainArticle' `a` 'href'␊
                      }␊
                      crawl `a`␊
                    }`,
                  startIdx: 88,
                },
                type: 'InitRule',
              },
              source: {
                endIdx: 146,
                sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                    string 'title' `#firstHeading`␊
                    string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                    arr 'headings' `.mw-headline` {␊
                      string 'text' `.span`␊
                      url 'mainArticle' `a` 'href'␊
                    }␊
                    crawl `a`␊
                  }`,
                startIdx: 88,
              },
              type: 'Rule',
            },
            {
              args: [
                {
                  quoteType: '\'',
                  source: {
                    endIdx: 165,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 155,
                  },
                  type: 'Literal',
                  value: 'headings',
                },
                {
                  quoteType: '`',
                  source: {
                    endIdx: 180,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 166,
                  },
                  type: 'Literal',
                  value: '.mw-headline',
                },
                {
                  rules: [
                    {
                      args: [
                        {
                          quoteType: '\'',
                          source: {
                            endIdx: 202,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 196,
                          },
                          type: 'Literal',
                          value: 'text',
                        },
                        {
                          quoteType: '`',
                          source: {
                            endIdx: 210,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 203,
                          },
                          type: 'Literal',
                          value: '.span',
                        },
                      ],
                      fn: {
                        module: undefined,
                        name: {
                          name: 'string',
                          source: {
                            _contents: 'string',
                            endIdx: 195,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 189,
                          },
                          type: 'Word',
                        },
                        options: [],
                        source: {
                          endIdx: 195,
                          sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                              string 'title' `#firstHeading`␊
                              string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                              arr 'headings' `.mw-headline` {␊
                                string 'text' `.span`␊
                                url 'mainArticle' `a` 'href'␊
                              }␊
                              crawl `a`␊
                            }`,
                          startIdx: 189,
                        },
                        type: 'InitRule',
                      },
                      source: {
                        endIdx: 210,
                        sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                            string 'title' `#firstHeading`␊
                            string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                            arr 'headings' `.mw-headline` {␊
                              string 'text' `.span`␊
                              url 'mainArticle' `a` 'href'␊
                            }␊
                            crawl `a`␊
                          }`,
                        startIdx: 189,
                      },
                      type: 'Rule',
                    },
                    {
                      args: [
                        {
                          quoteType: '\'',
                          source: {
                            endIdx: 234,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 221,
                          },
                          type: 'Literal',
                          value: 'mainArticle',
                        },
                        {
                          quoteType: '`',
                          source: {
                            endIdx: 238,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 235,
                          },
                          type: 'Literal',
                          value: 'a',
                        },
                        {
                          quoteType: '\'',
                          source: {
                            endIdx: 245,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 239,
                          },
                          type: 'Literal',
                          value: 'href',
                        },
                      ],
                      fn: {
                        module: undefined,
                        name: {
                          name: 'url',
                          source: {
                            _contents: 'url',
                            endIdx: 220,
                            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                                string 'title' `#firstHeading`␊
                                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                                arr 'headings' `.mw-headline` {␊
                                  string 'text' `.span`␊
                                  url 'mainArticle' `a` 'href'␊
                                }␊
                                crawl `a`␊
                              }`,
                            startIdx: 217,
                          },
                          type: 'Word',
                        },
                        options: [],
                        source: {
                          endIdx: 220,
                          sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                              string 'title' `#firstHeading`␊
                              string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                              arr 'headings' `.mw-headline` {␊
                                string 'text' `.span`␊
                                url 'mainArticle' `a` 'href'␊
                              }␊
                              crawl `a`␊
                            }`,
                          startIdx: 217,
                        },
                        type: 'InitRule',
                      },
                      source: {
                        endIdx: 245,
                        sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                            string 'title' `#firstHeading`␊
                            string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                            arr 'headings' `.mw-headline` {␊
                              string 'text' `.span`␊
                              url 'mainArticle' `a` 'href'␊
                            }␊
                            crawl `a`␊
                          }`,
                        startIdx: 217,
                      },
                      type: 'Rule',
                    },
                  ],
                  source: {
                    endIdx: 251,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 181,
                  },
                  type: 'RuleSet',
                },
              ],
              fn: {
                module: undefined,
                name: {
                  name: 'arr',
                  source: {
                    _contents: 'arr',
                    endIdx: 154,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 151,
                  },
                  type: 'Word',
                },
                options: [],
                source: {
                  endIdx: 154,
                  sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                      string 'title' `#firstHeading`␊
                      string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                      arr 'headings' `.mw-headline` {␊
                        string 'text' `.span`␊
                        url 'mainArticle' `a` 'href'␊
                      }␊
                      crawl `a`␊
                    }`,
                  startIdx: 151,
                },
                type: 'InitRule',
              },
              source: {
                endIdx: 251,
                sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                    string 'title' `#firstHeading`␊
                    string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                    arr 'headings' `.mw-headline` {␊
                      string 'text' `.span`␊
                      url 'mainArticle' `a` 'href'␊
                    }␊
                    crawl `a`␊
                  }`,
                startIdx: 151,
              },
              type: 'Rule',
            },
            {
              args: [
                {
                  quoteType: '`',
                  source: {
                    endIdx: 265,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 262,
                  },
                  type: 'Literal',
                  value: 'a',
                },
              ],
              fn: {
                module: undefined,
                name: {
                  name: 'crawl',
                  source: {
                    _contents: 'crawl',
                    endIdx: 261,
                    sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                        string 'title' `#firstHeading`␊
                        string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                        arr 'headings' `.mw-headline` {␊
                          string 'text' `.span`␊
                          url 'mainArticle' `a` 'href'␊
                        }␊
                        crawl `a`␊
                      }`,
                    startIdx: 256,
                  },
                  type: 'Word',
                },
                options: [],
                source: {
                  endIdx: 261,
                  sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                      string 'title' `#firstHeading`␊
                      string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                      arr 'headings' `.mw-headline` {␊
                        string 'text' `.span`␊
                        url 'mainArticle' `a` 'href'␊
                      }␊
                      crawl `a`␊
                    }`,
                  startIdx: 256,
                },
                type: 'InitRule',
              },
              source: {
                endIdx: 265,
                sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                    string 'title' `#firstHeading`␊
                    string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                    arr 'headings' `.mw-headline` {␊
                      string 'text' `.span`␊
                      url 'mainArticle' `a` 'href'␊
                    }␊
                    crawl `a`␊
                  }`,
                startIdx: 256,
              },
              type: 'Rule',
            },
          ],
          source: {
            endIdx: 269,
            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                string 'title' `#firstHeading`␊
                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                arr 'headings' `.mw-headline` {␊
                  string 'text' `.span`␊
                  url 'mainArticle' `a` 'href'␊
                }␊
                crawl `a`␊
              }`,
            startIdx: 47,
          },
          type: 'RuleSet',
        },
      ],
      fn: {
        module: undefined,
        name: {
          name: 'page',
          source: {
            _contents: 'page',
            endIdx: 4,
            sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
                string 'title' `#firstHeading`␊
                string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
                arr 'headings' `.mw-headline` {␊
                  string 'text' `.span`␊
                  url 'mainArticle' `a` 'href'␊
                }␊
                crawl `a`␊
              }`,
            startIdx: 0,
          },
          type: 'Word',
        },
        options: [],
        source: {
          endIdx: 4,
          sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
              string 'title' `#firstHeading`␊
              string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
              arr 'headings' `.mw-headline` {␊
                string 'text' `.span`␊
                url 'mainArticle' `a` 'href'␊
              }␊
              crawl `a`␊
            }`,
          startIdx: 0,
        },
        type: 'InitRule',
      },
      source: {
        endIdx: 269,
        sourceString: `page "https://en.wikipedia.org/wiki/(slug:.+)" {␊
            string 'title' `#firstHeading`␊
            string 'summary' `#mw-content-text > div > p:nth-child(4)`␊
            arr 'headings' `.mw-headline` {␊
              string 'text' `.span`␊
              url 'mainArticle' `a` 'href'␊
            }␊
            crawl `a`␊
          }`,
        startIdx: 0,
      },
      type: 'Rule',
    }

> Snapshot 3

    [
      'page',
      [
        'https://en.wikipedia.org/wiki/(slug:.+)',
        [
          [
            'string',
            [
              'title',
              '#firstHeading',
            ],
          ],
          [
            'string',
            [
              'summary',
              '#mw-content-text > div > p:nth-child(4)',
            ],
          ],
          [
            'arr',
            [
              'headings',
              '.mw-headline',
              [
                [
                  'string',
                  [
                    'text',
                    '.span',
                  ],
                ],
                [
                  'url',
                  [
                    'mainArticle',
                    'a',
                    'href',
                  ],
                ],
              ],
            ],
          ],
          [
            'crawl',
            [
              'a',
            ],
          ],
        ],
      ],
    ]

## print hello world

> Snapshot 1

    [
      ':print',
      [
        'hello',
        'world',
      ],
    ]

> Snapshot 2

    {
      args: [
        {
          quoteType: '',
          source: {
            _contents: 'hello',
            endIdx: 11,
            sourceString: 'print hello world',
            startIdx: 6,
          },
          type: 'Literal',
          value: 'hello',
        },
        {
          quoteType: '',
          source: {
            _contents: 'world',
            endIdx: 17,
            sourceString: 'print hello world',
            startIdx: 12,
          },
          type: 'Literal',
          value: 'world',
        },
      ],
      fn: {
        module: undefined,
        name: {
          name: 'print',
          source: {
            _contents: 'print',
            endIdx: 5,
            sourceString: 'print hello world',
            startIdx: 0,
          },
          type: 'Word',
        },
        options: [],
        source: {
          endIdx: 5,
          sourceString: 'print hello world',
          startIdx: 0,
        },
        type: 'InitRule',
      },
      source: {
        endIdx: 17,
        sourceString: 'print hello world',
        startIdx: 0,
      },
      type: 'Rule',
    }

> Snapshot 3

    [
      'print',
      [
        'hello',
        'world',
      ],
    ]
